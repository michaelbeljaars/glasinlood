<html>
<head>


<script src="jquery-1.12.0.min.js"></script>
<script language="javascript">


$( document ).ready(function() {
	
	//Variabele opzetten
	var imagesAll, imagesUnused, addedImage, index;
	imagesUsed = new Array();
	
	var image, imageCounter, dCounter, lastImage;
	dCounter = 0;
	
		
	
	//Functie om een willekeurig getal tussen min en max te krijgen
	function getRandomInt(min, max) {
	    return Math.floor(Math.random() * (max - min + 1)) + min;
	};
	
	//Divs in een array
	divid = new Array()
	divid[0] = 'nul'
	divid[1] = 'een'
	divid[2] = 'twee'
	divid[3] = 'drie'
	
	
	imagesAll = new Array()
	imagesAll[0] = "alcregofirst.gif"
	imagesAll[1] = "art1.gif"
	imagesAll[2] = "art3.gif"
	imagesAll[3] = "Ceric4.gif"
	imagesAll[4] = "Ceric6.gif"
	imagesAll[5] = "Ceric9.gif"
	imagesAll[6] = "Ceric10.gif"
	imagesAll[7] = "groen.gif"
	
	imagesUnused = new Array()
	imagesUnused[0] = "alcregofirst.gif"
	imagesUnused[1] = "art1.gif"
	imagesUnused[2] = "art3.gif"
	imagesUnused[3] = "Ceri4.gif"
	imagesUnused[4] = "Ceric6.gif"
	imagesUnused[5] = "Ceric9.gif"
	imagesUnused[6] = "Ceric10.gif"
	imagesUnused[7] = "groen.gif"
		
	function vullen() {		
		
		
		image = document.querySelector("#"+divid[dCounter]+" #plaatjeN");
		image.src = 'img/'+imagesAll[dCounter];

		//Plaatje toevoegen aan imagesunUsed
		addedImage = imagesAll[dCounter];
		imagesUnused.splice(addedImage,1);
		dCounter ++;
		
		
		//Laatste div: dan de willkeurige changeimage functie zoeken
		if (dCounter > (divid.length-1)) {		
			
			setInterval(changeImage,8000);
		};
	};
	
	//Functie crossfade images
	
	function crossfade() {
			//$(image).animate({ opacity:0 },2);
			$(lastImage).animate({ opacity:0},3000) ;
			//$(image).show();
			$(image).animate({ opacity:1 },3000);
			//$(lastImage).animate({ opacity:0} , 1)             ;
			//$(lastImage).animate({ opacity:1} , 1) ;	
			
			};
	

	
	
	
	
	
	
	//Functie definieren die het plaatje verandert naar een uit de array
	function changeImage() {
		
		
		
		//Pak een willekeurig nummer tussen 0 en het aantal elementen uit een array (minus 1, want we beginnen altijd bij 0 ipv 1)
		//image.style.opacity = 1;
		
		randomImg = getRandomInt(0, (imagesUnused.length -1));
		randomDiv = getRandomInt(0, (divid.length-1));
		console.log(randomImg);
		console.log(randomDiv);
		//Welk plaatje hebben we het over?
	    image = document.querySelector("#"+divid[randomDiv]+" #plaatjeN"); 
		console.log(image);
		lastImage = document.querySelector("#"+divid[randomDiv]+" #plaatjeO");
		console.log(lastImage);
		
		//lastImage.src = image.src;
		
		lastImage.src = 'img/'+ image.src.replace('http://127.0.0.1/test/img/', '');

		console.log(lastImage);
		//$(image).hide();
		//$(lastImage).fadeOut(5000);
		//$(image).fadeOut(3000);
		//Nieuw plaatje plakken
		console.log(image);
		
		image.src = 'img/'+imagesUnused[randomImg] ;
		//$(image).hide();
		console.log(image);
		crossfade();
		//$(image).fadeIn(5000);
	
		
		lastImage = lastImage.src;
		console.log(lastImage);
		
		
		
		//image.style.opacity = 0.5;
		
		if (lastImage.indexOf("127.0.0.1")  >= 0) {
			lastImage= lastImage.replace('http://127.0.0.1/img/', '');
		}; 
		imagesUnused.push(lastImage);
		
		addedImage = image.src;	
		if (addedImage.indexOf("127.0.0.1")  >= 0) {
			addedImage = addedImage.replace('http://127.0.0.1/img/', '');
		};
		index = imagesUnused.indexOf(addedImage);
		imagesUnused.splice(index,1);
		
	
			
	};

	
	//Voer deze functie uit tot de plaatjes op zijn (x<22)
	for(x=1; x<5; x++) window.setTimeout(vullen, 100 * x);
});

</script>
<link href="style.css" rel="stylesheet" type="text/css">

</head>

<body>
	
	<div id = "nul">
		<img  src ="" id="plaatjeO"> 
		<img  src ="" id="plaatjeN"> 
	</div>
	<div id = "een">
		<img  src ="" id="plaatjeO"> 
		<img  src ="" id="plaatjeN">  
	</div>
	<div id = "twee">
		<img  src ="" id="plaatjeO"> 
		<img  src ="" id="plaatjeN"> 
	</div>
	<div id = "drie">
		<img  src ="" id="plaatjeO"> 
		<img  src ="" id="plaatjeN"> 
	</div>

	
	<div id = "twintig">
		<img src="gifgroot.gif" > 
	</div>
	
</body>
</html>
