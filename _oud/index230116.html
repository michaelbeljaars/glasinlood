<html>
<head>


<script src="jquery-1.12.0.min.js"></script>
<script language="javascript">


$( document ).ready(function() {
	
	//Variabele opzetten
	var imagesAll;
	imagesUsed = new Array();
	imagesUnused = new Array();

	var image, imageCounter, dCounter;
	imageCounter = 0;
	dCounter = 0;
	
	//PHP bestand aanroepen die een JSON bestand terug geeft en deze in bovenstaande variabele proppen
	$.getJSON("http://127.0.0.1:80/directoryScan.php", function(json){
   		imagesAll = json;			
	});	
	
	
	//Functie om een willekeurig getal tussen min en max te krijgen
	function getRandomInt(min, max) {
	    return Math.floor(Math.random() * (max - min + 1)) + min;
	};
	
	//Divs in een array
	divid = new Array(8)
	divid[0] = 'een'
	divid[1] = 'twee'
	divid[2] = 'drie'
	divid[3] = 'vier'
	divid[4] = 'vijf'
	divid[5] = 'zes'
	divid[6] = 'zeven'
	divid[7] = 'negen'
	divid[8] = 'tien'
	divid[9] = 'elf'
	divid[10] = 'twaalf'
	divid[11] = 'dertien'
	divid[12] = 'veertien'
	divid[13] = 'vijftien'
	divid[14] = 'zestien'
	divid[15] = 'zeventien'
	divid[16] = 'achtien'
	divid[17] = 'negentien'
	divid[18] = 'twintig'
	divid[19] = 'eenentwintig'
	divid[20] = 'tweeentwintig'
		
	function vullen() {		
		
		image = document.querySelector("#"+divid[dCounter]+" #plaatje");
		image.src = 'img/'+imagesAll[imageCounter];

		//Hier wil je het gekozen plaatje toevoegen aan imagesUsed
		addedImage = imagesAll[imageCounter];
		imagesUnused.splice(addedImage);
		
		dCounter ++;
		imageCounter ++;
		
		//Als we bij de laatste div aangekomen zijn, dan de willkeurige changeimage functie zoeken
		if (dCounter > (divid.length-1)) {
			if (imageCounter < (image.length-1)){
				imagesUnused.push(imagesAll);
				}
			
			setInterval(changeImage,2000);
		};
	};
	
	//Functie defineren die het plaatje veranderd naar een uit de array
	function changeImage() {

		//imagesUnused = diff(imagesAll, imagesUsed);
	
		//Pak een willekeurig nummer tussen 0 en het aantal elementen uit een array (minus 1, want we beginnen altijd bij 0 ipv 1)
		randomImg = getRandomInt(0, (imagesUnused.length -1));
		randomDiv = getRandomInt(0, (divid.length -1));
		
		//Welke plaatje hebben we het over?
	    image = document.querySelector("#"+divid[randomDiv]+" #plaatje"); 

	    //Source van het plaatje veranderen	
		image.src = 'img/'+imagesUnused[randomImg];
		
		addedImage = imagesUnused[randomImg];
		imagesUsed.push(addedImage);

		// image.src = 'img/'+images[imageCounter];
		// imagesUsed.push(imageCounter);
		// imageCounter ++;
		
		// if (imageCounter > (divid.length -1)) {
		// imageCounter = 0;
		// };

	};

	function diff(A, B) {
	    return A.filter(function (a) {
	        return B.indexOf(a) == -1;
	    });
	}
	
	//Voer deze functie 22 keer uit (x<22)
	for(x=0; x<22; x++) window.setTimeout(vullen, 100 * x);
});

</script>
<link href="style.css" rel="stylesheet" type="text/css">

</head>

<body>
	
	<div id = "een">
		<img src="img/ballen.gif" id="plaatje"> 
	</div>
	<div id = "twee">
		<img src="img/ballen.gif" id="plaatje"> 
	</div>
	<div id = "drie">
		<img src="img/ballen.gif" id="plaatje"> 
	</div>
	<div id = "vier">
		<img src="img/ballen.gif" id="plaatje"> 
	</div>
	<div id = "vijf">
		<img src="img/ballen.gif" id="plaatje"> 
	</div>
	<div id = "zes">
		<img src="img/ballen.gif" id="plaatje"> 
	</div>
	<div id = "zeven">
		<img src="img/ballen.gif" id="plaatje"> 
	</div>
	
	<div id = "negen">
		<img src="img/ballen.gif" id="plaatje"> 
	</div>
	<div id = "tien">
		<img src="img/ballen.gif" id="plaatje"> 
	</div>
	<div id = "elf">
		<img src="img/ballen.gif" id="plaatje"> 
	</div>
	<div id = "twaalf">
		<img src="img/ballen.gif" id="plaatje"> 
	</div>
	<div id = "dertien">
		<img src="img/ballen.gif" id="plaatje"> 
	</div>
	<div id = "veertien">
		<img src="img/ballen.gif" id="plaatje"> 
	</div>
	<div id = "vijftien">
		<img src="img/ballen.gif" id="plaatje"> 
	</div>
	<div id = "zestien">
		<img src="img/ballen.gif" id="plaatje"> 
	</div>
	<div id = "zeventien">
		<img src="img/ballen.gif" id="plaatje"> 
	</div>
	<div id = "achtien">
		<img src="img/ballen.gif" id="plaatje"> 
	</div>
	<div id = "negentien">
		<img src="img/ballen.gif" id="plaatje"> 
	</div>
	<div id = "twintig">
		<img src="img/ballen.gif" id="plaatje"> 
	</div>
	<div id = "eenentwintig">
		<img src="img/ballen.gif" id="plaatje"> 
	</div>
	<div id = "tweeentwintig">
		<img src="img/ballen.gif" id="plaatje"> 
	</div>
	<div id = "acht">
		<img src="gifgroot.gif"> 
	</div>
</body>
</html>
